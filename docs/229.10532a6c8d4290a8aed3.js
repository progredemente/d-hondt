"use strict";(self.webpackChunkd_hondt=self.webpackChunkd_hondt||[]).push([[229],{3229:function(t,e,n){n.r(e);var r=n(822),a=n.n(r),o=n(745),i=n(3379),s=n.n(i),l=n(7795),c=n.n(l),u=n(569),p=n.n(u),m=n(3565),f=n.n(m),d=n(9216),h=n.n(d),y=n(4589),v=n.n(y),b=n(1424),g={};function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(a=r.key,o=void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(a),"symbol"===P(o)?o:String(o)),r)}var a,o}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}g.styleTagTransform=v(),g.setAttributes=f(),g.insert=p().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=h(),s()(b.Z,g),b.Z&&b.Z.locals&&b.Z.locals;var k=n(9982),B=n(9087),j={};j.styleTagTransform=v(),j.setAttributes=f(),j.insert=p().bind(null,"head"),j.domAPI=c(),j.insertStyleElement=h(),s()(B.Z,j),B.Z&&B.Z.locals&&B.Z.locals;var A=n(2332);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(o,t);var e,n,r=O(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).isSpanish=navigator.language.toLowerCase().startsWith("es"),e.state={seats:1,votes:[0,0],seatsByParty:[0,0],names:[e.isSpanish?"Partido 1":"Party 1",e.isSpanish?"Partido 2":"Party 2"],colors:["#FF0000","#0000FF"]},e}return e=o,(n=[{key:"componentDidMount",value:function(){this.calculateSeatsByParty()}},{key:"setSeats",value:function(t){this.setState({seats:t},this.calculateSeatsByParty)}},{key:"setParties",value:function(t){this.setState({parties:t},this.calculateSeatsByParty)}},{key:"setVotes",value:function(t,e){this.state.votes[e]=parseInt(t),this.setState({},this.calculateSeatsByParty)}},{key:"setName",value:function(t,e){this.state.names[e]=t,this.setState({},this.calculateSeatsByParty)}},{key:"setColor",value:function(t,e){this.state.colors[e]=t,this.setState({},this.calculateSeatsByParty)}},{key:"addParty",value:function(){this.setState({votes:[].concat(S(this.state.votes),[0]),seatsByParty:[].concat(S(this.state.seatsByParty),[0]),names:[].concat(S(this.state.names),["".concat(this.isSpanish?"Partido":"Party"," ").concat(this.state.names.length+1)]),colors:[].concat(S(this.state.colors),["#".concat(Math.floor(16777215*Math.random()).toString(16))])},this.calculateSeatsByParty)}},{key:"removeParty",value:function(t){this.state.votes.splice(t,1),this.state.seatsByParty.splice(t,1),this.state.names.splice(t,1),this.state.colors.splice(t,1),this.setState({},this.calculateSeatsByParty)}},{key:"calculateSeatsByParty",value:function(){var t=S(this.state.votes);this.state.seatsByParty=Array(this.state.seatsByParty.length).fill(0);for(var e=0;e<this.state.seats;e++){var n=t.indexOf(Math.max.apply(Math,S(t)));this.state.seatsByParty[n]++,t[n]=Math.floor(this.state.votes[n]/(this.state.seatsByParty[n]+1))}this.setState({})}},{key:"render",value:function(){var t,e=this,n=null===(t=this.state.seatsByParty)||void 0===t?void 0:t.map((function(t,n){return{name:e.state.names[n],seats:t}}));return a().createElement(A.AppsBar,{current:"d-hondt"},a().createElement("div",{className:"app"},a().createElement("div",null,a().createElement("div",{className:"title"},a().createElement("img",{src:"./d_hondt.png",alt:"d'Hondt tread on me"}),a().createElement("div",null,this.isSpanish&&"Simulador de asignación de escaños usando el método d'Hondt",!this.isSpanish&&"Seat allocation simulator using the d'Hondt method"),a().createElement("div",null,this.isSpanish&&a().createElement(a().Fragment,null,"por"),!this.isSpanish&&a().createElement(a().Fragment,null,"by")," ",a().createElement("a",{href:"/",target:"_blank"},"progredemente"))),a().createElement("div",null,a().createElement("label",{htmlFor:"seats"},this.isSpanish&&"Escaños disputados",!this.isSpanish&&"Contested seats"),a().createElement("br",null),a().createElement("input",{type:"number",name:"seats",value:this.state.seats,onChange:function(t){return e.setSeats(t.target.value)}})),a().createElement("br",null),a().createElement("div",null,a().createElement("table",null,a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",null),a().createElement("th",null,this.isSpanish&&"Nombre del partido",!this.isSpanish&&"Party name"),a().createElement("th",null,"Color"),a().createElement("th",null,this.isSpanish&&"Votos",!this.isSpanish&&"Votes"),a().createElement("th",null,this.isSpanish&&"Escaños",!this.isSpanish&&"Seats"))),a().createElement("tbody",null,a().createElement("tr",null,a().createElement("td",null),a().createElement("td",null,a().createElement("input",{type:"text",value:this.state.names[0],onChange:function(t){return e.setName(t.target.value,0)}})),a().createElement("td",null,a().createElement("input",{type:"color",value:this.state.colors[0],onChange:function(t){return e.setColor(t.target.value,0)}})),a().createElement("td",null,a().createElement("input",{type:"number",value:this.state.votes[0],onChange:function(t){return e.setVotes(t.target.value,0)}})),a().createElement("td",null,this.state.seatsByParty[0])),a().createElement("tr",null,a().createElement("td",null),a().createElement("td",null,a().createElement("input",{type:"text",value:this.state.names[1],onChange:function(t){return e.setName(t.target.value,1)}})),a().createElement("td",null,a().createElement("input",{type:"color",value:this.state.colors[1],onChange:function(t){return e.setColor(t.target.value,1)}})),a().createElement("td",null,a().createElement("input",{type:"number",value:this.state.votes[1],onChange:function(t){return e.setVotes(t.target.value,1)}})),a().createElement("td",null,this.state.seatsByParty[1])),S(Array(this.state.votes.length-2)).map((function(t,n){return a().createElement("tr",{key:n},a().createElement("td",null,a().createElement("button",{onClick:function(){return e.removeParty(n+2)}},"-")),a().createElement("td",null,a().createElement("input",{type:"text",value:e.state.names[n+2],onChange:function(t){return e.setName(t.target.value,n+2)}})),a().createElement("td",null,a().createElement("input",{type:"color",value:e.state.colors[n+2],onChange:function(t){return e.setColor(t.target.value,n+2)}})),a().createElement("td",null,a().createElement("input",{type:"number",value:e.state.votes[n+2],onChange:function(t){return e.setVotes(t.target.value,n+2)}})),a().createElement("td",null,e.state.seatsByParty[n+2]))})),a().createElement("tr",null,a().createElement("td",null,a().createElement("button",{onClick:function(){return e.addParty()}},"+")))))),a().createElement("div",{className:"chart"},a().createElement(k.PieChart,{width:450,height:220},a().createElement(k.Pie,{data:n,dataKey:"seats",nameKey:"name",startAngle:180,endAngle:0,innerRadius:125,outerRadius:200,cx:"50%",cy:"100%"},n.map((function(t,n){return a().createElement(k.Cell,{key:"cell-".concat(n),fill:e.state.colors[n]})}))),a().createElement(k.Tooltip,null))))))}}])&&x(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.Component),M=T;o.createRoot(document.getElementById("root")).render(a().createElement(a().StrictMode,null,a().createElement(M,null)))},9087:function(t,e,n){var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([t.id,'.app {\n    margin: 0 auto;\n    width: 1000px;\n    background-color: var(--secondary-color);\n    padding: 0 50px;\n    min-height: 100%;\n    color: black;\n}\n\n.app > div {\n    padding: 10px 0;\n}\n\ninput {\n    background-color: white;\n    border: 4px solid var(--primary-color);\n    border-radius: 10px;\n    font-size: 1em;\n    padding: 5px;\n}\n\nbutton {\n    background-color: var(--primary-color);\n    border: none;\n    border-radius: 10px;\n    padding: 5px 20px;\n    font-size: 1em;\n    cursor: pointer\n}\n\ntd {\n    text-align: right;\n    margin: 20px\n}\n\nth {\n    font-weight: normal;\n}\n\ninput[type="color"] {\n    height: 2em;\n}\n\ninput[type="number"] {\n    text-align: right;\n}\n\n.title {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    max-width: 500px;\n    margin: 0 auto;\n}\n\n.title > * {\n    margin: 5px 0;\n}\n\n.title > img {\n    max-width: 300px;\n    background-color: var(--primary-color);\n}\n\n.title > :nth-child(2) {\n    font-size: 1.5em;\n    text-align: center;\n    align-self: center;\n}\n\n.title > :last-child {\n    align-self: end;\n}\n\n.chart {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n',""]),e.Z=i},1424:function(t,e,n){var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([t.id,"* {\n    font-family: ComicTypo;\n    box-sizing: border-box;\n    --primary-color: #f5dc00;\n    --secondary-color: #fff6a1;\n    --link-color: #9c8d00;\n    outline: none;\n}\n\nhtml, body, #root {\n  height: 100%;\n}\n\nbody {\n    margin: 0;\n    font-size: 1.5em;\n    background-color: var(--primary-color);\n    height: 100%;\n}\n\na {\n    text-decoration: none;\n    color: var(--link-color);\n}\n\n.apps-bar-container {\n    --apps-bar-primary-color: var(--link-color) !important;\n    --apps-bar-secondary-color: black !important;\n    --apps-bar-text-primary-color: white !important;\n    --apps-bar-text-secondary-color: black !important;\n}\n",""]),e.Z=i},3645:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),e.push(u))}},e}},8081:function(t){t.exports=function(t){return t[1]}},745:function(t,e,n){var r=n(3468);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},3379:function(t){var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},i=[],s=0;s<t.length;s++){var l=t[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,p="".concat(c," ").concat(u);o[c]=u+1;var m=n(p),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)e[m].references++,e[m].updater(f);else{var d=a(f,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:d,references:1})}i.push(p)}return i}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var o=r(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var s=n(o[i]);e[s].references--}for(var l=r(t,a),c=0;c<o.length;c++){var u=n(o[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=l}}},569:function(t){var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}}]);